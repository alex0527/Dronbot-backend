package external;


import com.smartystreets.api.StaticCredentials;
import com.smartystreets.api.SharedCredentials;
import com.smartystreets.api.exceptions.BatchFullException;
import com.smartystreets.api.exceptions.SmartyException;
import com.smartystreets.api.us_street.*;
import com.smartystreets.api.ClientBuilder;

import java.io.IOException;
import java.net.Proxy;
import java.util.ArrayList;
import java.util.List;

public class Example {

	public static void main(String[] args) throws IOException, SmartyException {                                
        // This keypair will have been deleted by the time you are watching this video...                       
        String authId = "f748fd62-a78a-a8a9-57e1-39d9a59bc6e3";                                          
        String authToken = "EKqmZ8JEx0BO7FVbiwbp";                                                              
                                                                                                                
        System.out.println("Step 0. Wire up the client with your keypair.");                                    
        Client client = new ClientBuilder(authId, authToken).buildUsStreetApiClient();                          
                                                                                                                
        System.out.println("Step 1. Make a lookup. (BTW, you can also send entire batches of lookups...)");     
        Lookup lookup = new Lookup();                                                                           
        lookup.setStreet("1 Rosedale");                                                                         
        lookup.setLastline("Baltimore MD");                                                                     
        lookup.setMaxCandidates(10);                                                                            
                                                                                                                
        System.out.println("Step 2. Send the lookup.");                                                         
        client.send(lookup);                                                                                    
                                                                                                                
        System.out.println("Step 3. Show the resulting candidate addresses:");                                  
        int index = 0;                                                                                          
        for (Candidate candidate : lookup.getResult()) {                                                        
            System.out.printf("- %d: %s, %s\n", index, candidate.getDeliveryLine1(), candidate.getLastLine());  
                    index++;                                                                                    
        }                                                                                                       
    }                                    
}
